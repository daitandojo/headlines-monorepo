// apps/client/src/components/OpportunityListWrapper.jsx
'use client'

import { OpportunityCard } from './OpportunityCard'
import { AnimatedList, itemVariants } from './AnimatedList'
import { AnimatePresence, motion } from 'framer-motion'
import { cn } from '@headlines/utils'

export const OpportunityListWrapper = ({ items, onDelete }) => {
  return (
    <AnimatedList className="w-full space-y-4">
      <AnimatePresence>
        {items.map((opportunity) => {
          const isPremium = opportunity.likelyMMDollarWealth > 49
          return (
            <motion.div
              key={opportunity._id}
              variants={itemVariants}
              exit={itemVariants.exit}
              layout
              className={cn(isPremium && 'impatient-wobble')}
            >
              <OpportunityCard
                opportunity={opportunity}
                onDelete={() => onDelete({ opportunityId: opportunity._id })}
              />
            </motion.div>
          )
        })}
      </AnimatePresence>
    </AnimatedList>
  )
}
